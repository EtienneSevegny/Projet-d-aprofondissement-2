unit Unit1;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, FireDAC.Stan.Intf, FireDAC.Stan.Option,
  FireDAC.Stan.Param, FireDAC.Stan.Error, FireDAC.DatS, FireDAC.Phys.Intf,
  FireDAC.DApt.Intf, FireDAC.Stan.Async, FireDAC.DApt, FireDAC.UI.Intf,
  FireDAC.Stan.Def, FireDAC.Stan.Pool, FireDAC.Phys, FireDAC.Phys.MySQL,
  FireDAC.Phys.MySQLDef, FireDAC.VCLUI.Wait, Vcl.StdCtrls, Data.DB,
  FireDAC.Comp.Client, FireDAC.Comp.DataSet, Unit2, Vcl.Grids, Vcl.DBGrids;

type
  TForm1 = class(TForm)
    FDQuery1: TFDQuery;
    FDConnection1: TFDConnection;
    DataSource1: TDataSource;
    Button1: TButton;
    DBGrid1: TDBGrid;
    procedure Button1Click(Sender: TObject);
    procedure FormCreate(Sender: TObject);
    procedure DBGrid1CellClick(Column: TColumn);
  private
    { Déclarations privées }
  public
    { Déclarations publiques }
    var intAlbum_id:Integer;
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

uses Unit3;

procedure TForm1.Button1Click(Sender: TObject);
Begin
   with TForm2.Create(nil) do
    try
      Form1.hide;
      Form2.ShowModal;
    finally
      Form2.Free;
      Form1.close;
    end;
end;

procedure TForm1.DBGrid1CellClick(Column: TColumn);
var
  Pt: TPoint;
  Coord: TGridCoord;
  ClickCol: Integer;
begin
  Pt := DBGrid1.ScreenToClient(Mouse.CursorPos);
  Coord := DBGrid1.MouseCoord(Pt.X, Pt.Y);
  ClickCol := Coord.X;
  Application.MessageBox(PChar('Test'+ ClickCol.ToString),PChar('Test'), MB_ICONEXCLAMATION);
end;
procedure TForm1.FormCreate(Sender: TObject);
begin
  intAlbum_id :=1;
  FDQuery1.SQL.Clear;
  FDQuery1.SQL.Add('select nom as Nom, annee from album where artiste_id = '+ Form3.intArtiste_id.ToString);
  FDQuery1.Active := True;
end;

end.
